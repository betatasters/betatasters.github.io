
<!doctype html>
<html>
<head>
  <title>IPFS in the Browser</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="-1">
  <meta http-equiv=“CACHE-CONTROL” content=”NO-CACHE”>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js" integrity="sha512-NFUcDlm4V+a2sjPX7gREIXgCSFja9cHtKPOL1zj6QhnE0vcY695MODehqkaGYTLyL2wxe/wtr4Z49SvqXq12UQ==" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/simple-peer/9.8.0/simplepeer.min.js" integrity="sha512-E7n4M9VAeElTbAvxzEO92tYsjfg1e0INE+RQLEf3Dpra2EY2X2ygTaGi2NMpccKGY8Q7+npUX68igKUkAammKQ==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js" integrity="sha512-qoCTmFwBtCPvFhA+WAqatSOrghwpDhFHxwAGh+cppWonXbHA09nG1z5zi4/NGnp8dUhXiVrzA6EnKgJA+fyrpw==" crossorigin="anonymous"></script>


  <script src="https://cdn.jsdelivr.net/npm/ipfs/dist/index.min.js"></script>
  <script type="text/javascript">
 const _0x5292=['<div><h1>YAYYYY</h1>YESSSS<h2>Tab\x20id\x20','decompressFromUTF16','tabid','close','readable','type','offer','destroy','Received\x20array\x20length:\x20','/p2p/','random','pubsub','offline','encode','answer','<div\x20id=\x27loading\x27>Loading\x20Recipe<div\x20class=\x27loader\x27></div><div>Connecting\x20to\x20IPFS\x20Nodes:</div></div>','SIGNAL','p2p\x20data\x20size:\x20','came\x20online','length','#qrcodeCanvas','https://betatasters.github.io/connection3#','body','loading','hash','CLOSED','data','publish','div','compressToUint8Array','create','ipfs-','online','addEventListener','getElementById','recipe-pubsub-test','connect','compressToUTF16','decode','</h2></div>','appendChild','swarm','split','log','addrs','_tabid','focus','style','node\x20id\x20','signal','parse','innerHTML','location','<div\x20id=\x27qrcodeCanvas\x27></div>','decompressFromUint8Array','send','stringify','CONNECTED','topic\x20is\x20','/p2p-circuit/p2p/','came\x20offline'];(function(_0x16218f,_0x5292e3){const _0x578d88=function(_0x574de8){while(--_0x574de8){_0x16218f['push'](_0x16218f['shift']());}};_0x578d88(++_0x5292e3);}(_0x5292,0x66));const _0x578d=function(_0x16218f,_0x5292e3){_0x16218f=_0x16218f-0x0;let _0x578d88=_0x5292[_0x16218f];return _0x578d88;};const _0x3d64c2=_0x578d;let topic=_0x3d64c2('0x37');const delay=_0x574de8=>new Promise(_0x23a1d0=>setTimeout(_0x23a1d0,_0x574de8));let node=null;const isMain=location[_0x3d64c2('0x2c')]['length']===0x0,hash=window['location'][_0x3d64c2('0x2c')]['substr'](0x1),hashArray=hash[_0x3d64c2('0x1')]('_'),mainsId=hashArray[0x0];let tabId=hashArray[0x1]?hashArray[0x1]:'';!isMain&&(topic=topic+mainsId,console[_0x3d64c2('0x2')](_0x3d64c2('0x11')+topic));let p2pSignal=null,p=null;function setupP2P(){const _0xb61f89=_0x3d64c2;p=new SimplePeer({'initiator':!isMain,'trickle':![]}),p['on'](_0xb61f89('0x8'),_0x41376f=>{const _0x28ca1=_0xb61f89;let _0x17a526={..._0x41376f};!isMain&&tabId&&(_0x17a526[_0x28ca1('0x16')]=tabId);str=JSON[_0x28ca1('0xf')](_0x17a526),console[_0x28ca1('0x2')](_0x28ca1('0x24'),str),console[_0x28ca1('0x2')]('SIGNAL\x20length:',str[_0x28ca1('0x27')]);var _0x3a01d1=LZString[_0x28ca1('0x39')](str);p2pSignal=new TextEncoder()[_0x28ca1('0x21')](_0x3a01d1),isMain&&(console['log'](_0x28ca1('0x11')+topic),node[_0x28ca1('0x1f')]['publish'](topic,p2pSignal));}),p['on']('connect',()=>{const _0x5ecdf2=_0xb61f89;console[_0x5ecdf2('0x2')](_0x5ecdf2('0x10'));if(isMain){let _0x153afd=_0x5ecdf2('0x14')+tabId+_0x5ecdf2('0x3b');var _0xc6f319=LZString[_0x5ecdf2('0x31')](_0x153afd);console['log'](_0x5ecdf2('0x25')+_0x153afd[_0x5ecdf2('0x27')]),console[_0x5ecdf2('0x2')]('p2p\x20compressed\x20data\x20size:\x20'+_0xc6f319['length']),p[_0x5ecdf2('0xe')](_0xc6f319);}}),p['on'](_0xb61f89('0x2e'),_0x325da8=>{const _0x29f681=_0xb61f89;!isMain&&(console[_0x29f681('0x2')](_0x29f681('0x1c')+_0x325da8[_0x29f681('0x27')]),document[_0x29f681('0x2a')]['innerHTML']=LZString[_0x29f681('0xd')](_0x325da8),p['destroy'](),async function(){await node['stop']();}()),p[_0x29f681('0x18')]&&p[_0x29f681('0x1b')](),isMain&&setupP2P();}),p['on'](_0xb61f89('0x17'),()=>{const _0x11223f=_0xb61f89;console[_0x11223f('0x2')](_0x11223f('0x2d')),p[_0x11223f('0x18')]&&p[_0x11223f('0x1b')](),isMain&&setupP2P();}),p['on']('error',_0x55c492=>{const _0x4e6c51=_0xb61f89;console[_0x4e6c51('0x2')](_0x55c492),p[_0x4e6c51('0x18')]&&p[_0x4e6c51('0x1b')](),isMain&&setupP2P();});}setupP2P(),window[_0x3d64c2('0x35')](_0x3d64c2('0x34'),()=>console[_0x3d64c2('0x2')](_0x3d64c2('0x26'))),window[_0x3d64c2('0x35')](_0x3d64c2('0x20'),()=>console[_0x3d64c2('0x2')](_0x3d64c2('0x13'))),document['addEventListener']('DOMContentLoaded',async()=>{const _0x750f28=_0x3d64c2;isMain?document['body'][_0x750f28('0xa')]=_0x750f28('0xc'):document[_0x750f28('0x2a')][_0x750f28('0xa')]=_0x750f28('0x23');node=window['node']=await Ipfs[_0x750f28('0x32')]({'repo':_0x750f28('0x33')+Math[_0x750f28('0x1e')](),'relay':{'enabled':!![],'hop':{'enabled':!![],'active':!![]}}}),nodeId=(await node['id']())['id'];isMain&&(topic=topic+nodeId);console[_0x750f28('0x2')](_0x750f28('0x7')+nodeId);isMain&&(url=_0x750f28('0x29')+nodeId,console['log'](url),jQuery(_0x750f28('0x28'))['qrcode']({'text':url}));await node['pubsub']['subscribe'](topic,({from:_0x55fdec,data:_0x5e9abc,topicIDs:_0x182ac9,seqno:_0x46a735})=>{const _0xa56b8d=_0x750f28;if(_0x55fdec!==nodeId){let _0x5d6206=new TextDecoder()[_0xa56b8d('0x3a')](_0x5e9abc);_0x5d6206=LZString[_0xa56b8d('0x15')](_0x5d6206),console[_0xa56b8d('0x2')]('signal\x20received:\x20'+_0x5d6206);const _0xb3b021=JSON[_0xa56b8d('0x9')](_0x5d6206);_0xb3b021[_0xa56b8d('0x4')]&&(tabId=_0xb3b021['_tabid'],delete _0xb3b021[_0xa56b8d('0x4')]),(isMain&&_0xb3b021[_0xa56b8d('0x19')]===_0xa56b8d('0x1a')||!isMain&&_0xb3b021[_0xa56b8d('0x19')]===_0xa56b8d('0x22'))&&p[_0xa56b8d('0x8')](_0xb3b021);}});if(!isMain){for(const _0xbab330 of await node[_0x750f28('0x0')][_0x750f28('0x3')]()){if(_0xbab330['id']===mainsId)continue;try{const _0x387e52=_0x750f28('0x1d')+_0xbab330['id']+_0x750f28('0x12')+mainsId;var _0x5ad387=document['createElement'](_0x750f28('0x30'));_0x5ad387['innerText']=_0xbab330['id'],_0x5ad387[_0x750f28('0x6')]='padding-left:\x2010px;',document[_0x750f28('0x36')](_0x750f28('0x2b'))[_0x750f28('0x3c')](_0x5ad387),await node[_0x750f28('0x0')][_0x750f28('0x38')](_0x387e52);}catch(_0x16a1a6){console[_0x750f28('0x2')](_0x16a1a6);}}await delay(0x3e8),p2pSignal?await node['pubsub'][_0x750f28('0x2f')](topic,p2pSignal):(await delay(0x7d0),p2pSignal&&await node[_0x750f28('0x1f')][_0x750f28('0x2f')](topic,p2pSignal));}}),$(window)[_0x3d64c2('0x5')](function(){const _0x25498f=_0x3d64c2;hash!==window[_0x25498f('0xb')][_0x25498f('0x2c')]['substr'](0x1)&&location['reload']();});

  </script>

  <style>
  .loader {
    border: 16px solid #f3f3f3; /* Light grey */
    border-top: 16px solid #3498db; /* Blue */
    border-radius: 50%;
    width: 120px;
    height: 120px;
    animation: spin 2s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  </style>
</head>
<body>





</body>
</html>
