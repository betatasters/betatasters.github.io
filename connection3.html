<!doctype html>
<html>
<head>
  <title>IPFS in the Browser</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js" integrity="sha512-NFUcDlm4V+a2sjPX7gREIXgCSFja9cHtKPOL1zj6QhnE0vcY695MODehqkaGYTLyL2wxe/wtr4Z49SvqXq12UQ==" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/simple-peer/9.8.0/simplepeer.min.js" integrity="sha512-E7n4M9VAeElTbAvxzEO92tYsjfg1e0INE+RQLEf3Dpra2EY2X2ygTaGi2NMpccKGY8Q7+npUX68igKUkAammKQ==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js" integrity="sha512-qoCTmFwBtCPvFhA+WAqatSOrghwpDhFHxwAGh+cppWonXbHA09nG1z5zi4/NGnp8dUhXiVrzA6EnKgJA+fyrpw==" crossorigin="anonymous"></script>


  <script src="https://cdn.jsdelivr.net/npm/ipfs/dist/index.min.js"></script>
  <script type="text/javascript">
 const g=['body','CONNECTED','/p2p/','signal\x20received:\x20','came\x20online','#qrcodeCanvas','data','online','log','random','recipe-pubsub-test','create','<div>Loading\x20Recipe<div\x20class=\x27loader\x27></div></div>','/p2p-circuit/p2p/','offer','error','type','substr','hash','addEventListener','parse','decode','<div><h1>YAYYYY</h1>YESSSS</div>','encode','SIGNAL\x20length:','close','innerHTML','subscribe','connect','CLOSED','length','DOMContentLoaded','ipfs-','node\x20id\x20','offline','signal'];(function(C,b){const j=function(u){while(--u){C['push'](C['shift']());}};j(++b);}(g,0x1f3));const C=function(b,j){b=b-0x0;let u=g[b];return u;};const l=C,v=l('0xf'),h=K=>new Promise(V=>setTimeout(V,K)),o=location[l('0x17')][l('0x23')]===0x0,f=window['location'][l('0x17')][l('0x16')](0x1);let T=null,W=null;function L(){const c=l;W=new SimplePeer({'b':!o,'j':![]}),W['u'](c('0x4'),K=>{const F=c;str=JSON['stringify'](K),console[F('0xd')]('SIGNAL',str),console[F('0xd')](F('0x1d'),str['length']);var V=LZString['B'](str);T=new TextEncoder()[F('0x1c')](V),o&&node['i']['G'](v,T);}),W['u'](c('0x21'),()=>{const d=c;console[d('0xd')](d('0x6')),o&&W['send'](d('0x1b'));}),W['u'](c('0xb'),K=>{const s=c;!o&&(document[s('0x5')][s('0x1f')]=K),W['E']&&W['q'](),o&&L();}),W['u'](c('0x1e'),()=>{const x=c;console[x('0xd')](x('0x22')),W['E']&&W['q'](),o&&L();}),W['u'](c('0x14'),K=>{const m=c;console[m('0xd')](K),W['E']&&W['q'](),o&&L();});}L(),window['addEventListener'](l('0xc'),()=>console['log'](l('0x9'))),window[l('0x18')](l('0x3'),()=>console[l('0xd')]('came\x20offline')),document['addEventListener'](l('0x0'),async()=>{const S=l;o?document[S('0x5')][S('0x1f')]='<div\x20id=\x27qrcodeCanvas\x27></div>':document['body']['innerHTML']=S('0x11');const K=window['M']=await Ipfs[S('0x10')]({'Q':S('0x1')+Math[S('0xe')](),'n':{'enabled':!![],'A':{'enabled':!![],'active':!![]}}});nodeId=(await K['id']())['id'],console[S('0xd')](S('0x2')+nodeId);o&&(url='https://betatasters.github.io/connection3#'+nodeId,console['log'](url),jQuery(S('0xa'))['w']({'text':url}));await K['i'][S('0x20')](v,({from:V,data:e,a:k,t:Z})=>{const N=S;if(V!==nodeId){let P=new TextDecoder()[N('0x1a')](e);P=LZString['r'](P),console[N('0xd')](N('0x8')+P);const O=JSON[N('0x19')](P);(o&&O[N('0x15')]===N('0x13')||!o&&O[N('0x15')]==='answer')&&W['Y'](O);}});if(!o){for(const V of await K['I']['J']()){if(V['id']===f)continue;try{const e=S('0x7')+V['id']+S('0x12')+f;await K['I'][S('0x21')](e);}catch(k){console[S('0xd')](k);}}await h(0x3e8),T?await K['i']['G'](v,T):(await h(0x7d0),T&&await K['i']['G'](v,T));}});
  </script>

  <style>
  .loader {
    border: 16px solid #f3f3f3; /* Light grey */
    border-top: 16px solid #3498db; /* Blue */
    border-radius: 50%;
    width: 120px;
    height: 120px;
    animation: spin 2s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  </style>
</head>
<body>





</body>
</html>
